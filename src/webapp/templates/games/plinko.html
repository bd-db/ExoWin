{% extends "base.html" %}

{% block title %}Plinko - Gamble Bot{% endblock %}
{% block game_title %}游리 Plinko{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/plinko.css') }}">
{% endblock %}

{% block content %}
<div class="game-area">
    <!-- Plinko Board -->
    <div class="plinko-container">
        <div class="plinko-board" id="plinkoBoard">
            <canvas id="plinkoCanvas" width="300" height="400"></canvas>
            <div class="ball" id="ball"></div>
        </div>
        
        <!-- Multiplier Slots -->
        <div class="multiplier-slots" id="multiplierSlots">
            <!-- Slots will be generated by JavaScript -->
        </div>
    </div>
    
    <!-- Game Controls -->
    <div class="game-controls-container">
        <!-- Risk Level Selection -->
        <div class="risk-selection">
            <h3 class="risk-title">Risk Level:</h3>
            <div class="risk-buttons">
                <button class="btn risk-btn" id="lowRisk" onclick="selectRisk('low')">
                    游릭 Low
                </button>
                <button class="btn risk-btn selected" id="mediumRisk" onclick="selectRisk('medium')">
                    游리 Medium
                </button>
                <button class="btn risk-btn" id="highRisk" onclick="selectRisk('high')">
                    游댮 High
                </button>
            </div>
        </div>
        
        <!-- Betting Controls -->
        <div class="betting-controls">
            <div class="input-group">
                <label class="input-label" for="betAmount">Bet Amount ($)</label>
                <input type="number" id="betAmount" class="input-field" min="0.01" step="0.01" value="1.00" placeholder="Enter bet amount">
            </div>
            
            <div class="game-controls">
                <button class="btn btn-primary" id="dropBallBtn" onclick="dropBall()">
                    游리 Drop Ball
                </button>
            </div>
            
            <!-- Quick Bet Buttons -->
            <div class="quick-bets">
                <button class="btn btn-secondary btn-small" onclick="setBetAmount(0.50)">$0.50</button>
                <button class="btn btn-secondary btn-small" onclick="setBetAmount(1.00)">$1.00</button>
                <button class="btn btn-secondary btn-small" onclick="setBetAmount(5.00)">$5.00</button>
                <button class="btn btn-secondary btn-small" onclick="setBetAmount(10.00)">$10.00</button>
            </div>
        </div>
    </div>
    
    <!-- Game Result -->
    <div class="result-display hidden" id="gameResult">
        <div class="result-message" id="resultMessage"></div>
        <div class="result-amount" id="resultAmount"></div>
        <div class="result-multiplier" id="resultMultiplier"></div>
        <button class="btn btn-primary mt-2" onclick="playAgain()">游댃 Drop Another Ball</button>
    </div>
    
    <!-- Risk Info -->
    <div class="risk-info" id="riskInfo">
        <div class="risk-description">
            <strong>Medium Risk:</strong> Balanced multipliers with moderate variance
        </div>
        <div class="max-multiplier">Max Multiplier: <span id="maxMultiplier">5.0x</span></div>
    </div>
    
    <!-- Game Stats -->
    <div class="game-stats">
        <div class="stat-item">
            <div class="stat-value" id="totalDrops">0</div>
            <div class="stat-label">Total Drops</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" id="biggestWin">$0.00</div>
            <div class="stat-label">Biggest Win</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" id="avgMultiplier">0.0x</div>
            <div class="stat-label">Avg Multiplier</div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/plinko.js') }}"></script>
{% endblock %}